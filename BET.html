<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…­åˆå½©æ¨¡æ‹Ÿæ¸¸æˆ</title>
    <style>
        body {
            text-align: center;
            background-color: #222;
            color: white;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: space-between;
        }
        .container {
            width: 30%;
            padding: 10px;
        }
        .main {
            width: 40%;
        }
        h1 { color: #FFD700; }
        .bet-container, .result-container {
            padding: 15px;
            background: #333;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        .input-field {
            margin: 5px;
        }
        button {
            background-color: #ff5733;
            color: white;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
        }
        .special-number {
            color: red;
            font-weight: bold;
            font-size: 20px;
        }
        #gameOver { display: none; font-size: 24px; color: red; }
    </style>
</head>
<body>
    <div class="container">
        <h2>ä¸­å¥–æ¦‚ç‡ä¸èµ”ç‡</h2>
        <p>ğŸ¯ é€‰ä¸­å·ç  (6ä¸ªæ­£ç ): 1/8.17 | èµ”ç‡ 2å€</p >
        <p>ğŸ¯ é€‰ä¸­ç‰¹ç  (1ä¸ªç‰¹ç ): 1/49 | èµ”ç‡ 35å€</p >
        <p>ğŸ¯ ç”Ÿè‚–ä¸­å¥–: 1/12 | èµ”ç‡ 10å€</p >
    </div>

    <div class="main">
        <h1>å…­åˆå½©æ¨¡æ‹Ÿæ¸¸æˆ</h1>
        <p>æ‚¨çš„ç§¯åˆ†ï¼š<span id="balance">10000</span></p >

        <div class="bet-container">
            <h2>æŠ¼æ³¨</h2>
            <label>é€‰æ‹©å·ç  (å¯å¤šé€‰)ï¼š</label>
            <br>
            <input type="text" id="betNumbers" placeholder="ä¾‹å¦‚: 3,15,28" class="input-field">
            <br>
            <label>æ•°å­—ä¸‹æ³¨é‡‘é¢ï¼š</label>
            <input type="number" id="betAmountNumbers" min="1" class="input-field">
            <br>
            
            <label>é€‰æ‹©ç”Ÿè‚– (å¯å¤šé€‰)ï¼š</label>
            <br>
            <input type="text" id="betZodiacs" placeholder="ä¾‹å¦‚: é¼ ,è™,é¾™" class="input-field">
            <br>
            <label>ç”Ÿè‚–ä¸‹æ³¨é‡‘é¢ï¼š</label>
            <input type="number" id="betAmountZodiacs" min="1" class="input-field">
            <br>
            
            <button onclick="placeBet()">ç¡®è®¤æŠ¼æ³¨</button>
        </div>

        <div class="result-container">
            <h2>å¼€å¥–</h2>
            <p>å€’è®¡æ—¶ï¼š<span id="timer">30</span> ç§’</p >
            <p>å¼€å¥–å·ç ï¼š<span id="winningNumbers">ç­‰å¾…å¼€å¥–...</span></p >
            <p>ä¸­å¥–ç”Ÿè‚–ï¼š<span id="winningZodiac">ç­‰å¾…å¼€å¥–...</span></p >
            <p>æ‚¨çš„ä¸­å¥–æƒ…å†µï¼š<span id="resultMessage">---</span></p >
            <p>ğŸ‰ æœ€å¤§å¯ä¸­å¥–é‡‘é¢ï¼š<span id="maxWinning">0</span></p >
        </div>

        <h2 id="gameOver">GAME OVER</h2>
    </div>

    <div class="container">
        <h2>æŠ•æ³¨ä¿¡æ¯</h2>
        <p>å·ç æŠ¼æ³¨ï¼š<span id="betNumbersList">---</span></p >
        <p>ç”Ÿè‚–æŠ¼æ³¨ï¼š<span id="betZodiacsList">---</span></p >
        <p>æ€»ä¸‹æ³¨é‡‘é¢ï¼š<span id="totalBetAmount">0</span></p >
    </div>

   <script>
    let balance = 10000;
    let bets = [];
    let countdown = 30;
    let interval;
    let zodiacMap = ["é¼ ", "ç‰›", "è™", "å…”", "é¾™", "è›‡", "é©¬", "ç¾Š", "çŒ´", "é¸¡", "ç‹—", "çŒª"];


function placeBet() {
    let numbers = document.getElementById("betNumbers").value.split(",").map(n => parseInt(n.trim()));
    let zodiacs = document.getElementById("betZodiacs").value.split(",").map(z => z.trim());
    let amountNumbers = parseInt(document.getElementById("betAmountNumbers").value);
    let amountZodiacs = parseInt(document.getElementById("betAmountZodiacs").value);
    let totalBet = 0; // ç»Ÿè®¡ä¸‹æ³¨æ€»é‡‘é¢ï¼ˆæ•°å­— + ç”Ÿè‚–ï¼‰


function startTimer() {
    clearInterval(interval); // é˜²æ­¢å¤šæ¬¡è®¡æ—¶å™¨å åŠ 
    countdown = 30; 
    updateTimerUI(); // ç«‹å³æ›´æ–° UI

    interval = setInterval(() => {
        countdown--;
        updateTimerUI(); // æ¯ç§’æ›´æ–° UI

        if (countdown <= 0) {
            clearInterval(interval);
            drawNumbers(); // å¼€å¥–
            startTimer();  // é‡æ–°å¼€å§‹å€’è®¡æ—¶
        }
    }, 1000);
}

function updateTimerUI() {
    let timerElement = document.getElementById("timer");
    if (timerElement) {
        timerElement.innerText = countdown; // ç¡®ä¿ UI æ˜¾ç¤ºå€’è®¡æ—¶
    }
}

startTimer();



    // **å¤„ç†æ•°å­—ä¸‹æ³¨**
    if (!isNaN(amountNumbers) && amountNumbers > 0) {
        numbers.forEach(num => {
            if (!isNaN(num) && num >= 1 && num <= 49) {
                bets.push({ type: "number", value: num, amount: amountNumbers });
                balance -= amountNumbers;
                totalBet += amountNumbers; // åŠ å…¥æ€»æŠ•æ³¨é‡‘é¢
            }
        });
    }

    // **å¤„ç†ç”Ÿè‚–ä¸‹æ³¨**
    if (!isNaN(amountZodiacs) && amountZodiacs > 0) {
        zodiacs.forEach(zodiac => {
            if (zodiacMap.includes(zodiac)) {
                bets.push({ type: "zodiac", value: zodiac, amount: amountZodiacs });
                balance -= amountZodiacs;
                totalBet += amountZodiacs; // åŠ å…¥æ€»æŠ•æ³¨é‡‘é¢
            }
        });
    }

    // **æ›´æ–°UI**
    document.getElementById("balance").innerText = balance;  // æ›´æ–°ä½™é¢
    document.getElementById("betNumbersList").innerText = numbers.join(", ") || "æ— ";
    document.getElementById("betZodiacsList").innerText = zodiacs.join(", ") || "æ— ";
    document.getElementById("totalBetAmount").innerText = totalBet; // æ›´æ–°UIæ˜¾ç¤ºçš„æ€»ä¸‹æ³¨é‡‘é¢

    calculateMaxWinning();
    alert("æˆåŠŸæŠ¼æ³¨ï¼");
}


    function drawNumbers() {
        let winningNumbers = generateWinningNumbers();
        let winningZodiacs = Array.from({ length: 5 }, () => zodiacMap[Math.floor(Math.random() * 12)]);

        document.getElementById("winningZodiac").innerText = winningZodiacs.join(" | ");
        let numbersText = winningNumbers.slice(0, 6).join(" ") + 
            " <span class='special-number'>" + winningNumbers[6] + "</span>";
        document.getElementById("winningNumbers").innerHTML = numbersText;

        let totalWin = 0;
        bets.forEach(bet => {
            if (bet.type === "number" && winningNumbers.includes(bet.value)) {
                totalWin += (bet.value === winningNumbers[6] ? bet.amount * 35 : bet.amount * 2);
            }
            if (bet.type === "zodiac" && winningZodiacs.includes(bet.value)) {
                totalWin += bet.amount * 10;
            }
        });

        balance += totalWin;
        document.getElementById("balance").innerText = balance;
        document.getElementById("resultMessage").innerText = totalWin > 0 ? `èµ¢å¾— ${totalWin} ç§¯åˆ†ï¼` : "å¾ˆé—æ†¾ï¼Œæ‚¨æœªä¸­å¥–ã€‚";
        bets = [];
        calculateMaxWinning();
        if (balance <= 0) {
            document.getElementById("gameOver").style.display = "block";
            clearInterval(interval);
        }
    }

    function generateWinningNumbers() {
        let numbers = [];
        while (numbers.length < 7) {
            let num = Math.floor(Math.random() * 49) + 1;
            if (!numbers.includes(num)) numbers.push(num);
        }
        return numbers;
    }

</script>
</body>
</html>